SOURCES += src/startup/boot.c
SOURCES += src/init/main.c
SOURCES += src/common/common.c
SOURCES += src/device/led.c
SOURCES += src/device/can.c

SOURCES += src/protocol/can_protocol.c
SOURCES += src/protocol/can_ack.c
LOCAL_CFLAGS += -Isrc -Isrc/include
LOCAL_CFLAGS += -Iinclude -Iinclude/rtthread-nano -Iinclude/cutils
LOCAL_LDFLAGS += -T$(TOP)/ldscripts/STM32F103ZETx_FLASH.ld -Llib -lstm32startup -lcutils -Wl,--whole-archive -lrtthread -Wl,--no-whole-archive -lSTM32F103

LOCAL_CFLAGS += -DSTM32_BUILD_TIME=\""$(shell date --date="+12 hours" +%Y/%m/%d\ %H:%M:%S)\""
